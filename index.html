<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>jQuery带视觉差效果幻灯片代码</title>

<link rel="stylesheet" type="text/css" href="css/normalize.css" />
<link rel="stylesheet" type="text/css" href="css/demo.css">
<link rel="stylesheet" type="text/css" href="css/flickity.css">
<link rel="stylesheet" href="css/style.css">

</head>
<body>
<div class="container">
	<div class="parallax sprite">
	  <div class="parallax__layer parallax__layer--bg sprite"></div>
	  <div class="parallax__carousel">
		<div class="parallax__carousel__cell sprite"></div>
		<div class="parallax__carousel__cell sprite"></div>
		<div class="parallax__carousel__cell sprite"></div>
		<div class="parallax__carousel__cell sprite"></div>
		<div class="parallax__carousel__cell sprite"></div>
	  </div>
	  <div class="parallax__layer parallax__layer--fg sprite"></div>
	</div>
</div>

<script src="js/jquery-2.1.1.min.js" type="text/javascript"></script>
<script type="text/javascript" src="js/flickity.pkgd.js"></script>
<script type="text/javascript">
	var flkty = new Flickity('.parallax__carousel');

	var paraBG = document.querySelector('.parallax__layer--bg');
	var paraFG = document.querySelector('.parallax__layer--fg');
	var cellRatio = 1;
	var bgRatio = 0.75;
	var fgRatio = 2;

	flkty.on( 'scroll', function( progress ) {
	  paraBG.style.left = ( 0.5 - ( 0.5 + progress * 4 ) * cellRatio * bgRatio ) * 100 + '%';
	  paraFG.style.left = ( 0.5 - ( 0.5 + progress * 4 ) * cellRatio * fgRatio ) * 100 + '%';
	});

	flkty.reposition();
</script>

</body>
</html>
